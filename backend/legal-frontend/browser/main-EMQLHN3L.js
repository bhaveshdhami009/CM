import{a as je}from"./chunk-73ZWASVY.js";import{a as I}from"./chunk-GNWRSBI3.js";import{a as j}from"./chunk-RYOPT7JZ.js";import{a as Fe,b}from"./chunk-FAQ5RITY.js";import{a as Oe,b as we,d as U,e as M,f as F,g as ke,h as Se}from"./chunk-E3OGELKA.js";import{B as Q,Bc as Ie,Cb as D,Cc as Le,Db as N,Ea as pe,Eb as V,Ec as Ee,F as ce,Fa as T,Fc as Te,Gc as Re,Hb as te,Ic as ze,Ja as O,Jc as Ae,Ma as g,Mb as ne,N as X,Ob as _e,Pa as ge,Pb as be,S as le,Sb as fe,Tc as De,Ub as he,Uc as Ne,Vc as Ve,X as m,Yc as Ue,aa as h,ab as p,ba as x,bb as r,ca as L,cb as i,da as E,db as C,eb as me,fb as ue,hb as y,ib as f,j as ae,ja as se,jb as u,kc as xe,lc as ve,mc as k,p as J,pc as Ce,rc as Me,sc as S,tb as w,vb as R,xa as ee,xb as s,ya as de,yb as _,yc as ye,z as A,za as c,zb as z,zc as Pe}from"./chunk-OAVOYKTW.js";function Xe(e,n){if(e&1&&(r(0,"div",36)(1,"i",37),s(2,"error_outline"),i(),r(3,"span"),s(4),i()()),e&2){let t=u();c(4),_(t.errorMessage)}}function et(e,n){e&1&&(r(0,"span"),s(1,"Email is required."),i())}function tt(e,n){e&1&&(r(0,"span"),s(1,"Please enter a valid email address."),i())}function nt(e,n){if(e&1&&(r(0,"small",38),g(1,et,2,0,"span",32)(2,tt,2,0,"span",32),i()),e&2){u();let t=w(25);c(),p("ngIf",t.errors==null?null:t.errors.required),c(),p("ngIf",t.errors==null?null:t.errors.email)}}function ot(e,n){e&1&&(r(0,"small",38),s(1," Password is required (min 6 chars). "),i())}function rt(e,n){e&1&&(r(0,"span"),s(1,"Sign In"),i())}function it(e,n){e&1&&C(0,"div",39)}var H=class e{constructor(n,t){this.authService=n;this.router=t}credentials={email:"",password:""};rememberMe=!1;errorMessage="";isLoading=!1;onSubmit(){this.isLoading||(this.isLoading=!0,this.errorMessage="",this.authService.login(this.credentials,this.rememberMe).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:n=>{console.error("Login failed",n),this.errorMessage=n.error?.message||"Login failed. Please check your credentials.",this.isLoading=!1}}))}static \u0275fac=function(t){return new(t||e)(T(b),T(M))};static \u0275cmp=O({type:e,selectors:[["app-login"]],decls:49,vars:12,consts:[["loginForm","ngForm"],["email","ngModel"],["password","ngModel"],[1,"auth-wrapper","fade-in"],[1,"auth-card"],[1,"auth-card__header","auth-header"],[1,"auth-header__logo"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M12 3v17"],["d","M6 6h12"],["d","M6 6l-3 5"],["d","M6 6l3 5"],["d","M3 11c0 1.66 1.34 3 3 3s3-1.34 3-3"],["d","M18 6l-3 5"],["d","M18 6l3 5"],["d","M15 11c0 1.66 1.34 3 3 3s3-1.34 3-3"],[1,"auth-header__title"],[1,"auth-header__subtitle"],["class","alert alert--error",4,"ngIf"],[1,"auth-form",3,"ngSubmit"],[1,"auth-form__group"],["for","email",1,"auth-form__label"],[1,"input-group"],["type","email","id","email","name","email","placeholder","name@company.com","required","","email","",1,"input-group__field",3,"ngModelChange","ngModel","disabled"],[1,"material-icons","input-group__icon"],["class","text-danger","style","margin-top: 5px; display: block; font-size: 0.85rem;",4,"ngIf"],["for","password",1,"auth-form__label"],["type","password","id","password","name","password","placeholder","Enter your password","required","","minlength","3",1,"input-group__field",3,"ngModelChange","ngModel","disabled"],[1,"auth-form__actions"],[1,"checkbox"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],["class","spinner-sm",4,"ngIf"],[1,"auth-footer"],["routerLink","/register"],[1,"alert","alert--error"],[1,"material-icons"],[1,"text-danger",2,"margin-top","5px","display","block","font-size","0.85rem"],[1,"spinner-sm"]],template:function(t,o){if(t&1){let a=y();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),L(),r(4,"svg",7),C(5,"path",8)(6,"path",9)(7,"path",10)(8,"path",11)(9,"path",12)(10,"path",13)(11,"path",14)(12,"path",15),i()(),E(),r(13,"h1",16),s(14,"Welcome Back"),i(),r(15,"p",17),s(16,"Sign in to manage your cases"),i()(),g(17,Xe,5,1,"div",18),r(18,"form",19,0),f("ngSubmit",function(){h(a);let l=w(19);return x(l.form.valid&&o.onSubmit())}),r(20,"div",20)(21,"label",21),s(22,"Email Address"),i(),r(23,"div",22)(24,"input",23,1),V("ngModelChange",function(l){return h(a),N(o.credentials.email,l)||(o.credentials.email=l),x(l)}),i(),r(26,"i",24),s(27,"email"),i()(),g(28,nt,3,2,"small",25),i(),r(29,"div",20)(30,"label",26),s(31,"Password"),i(),r(32,"div",22)(33,"input",27,2),V("ngModelChange",function(l){return h(a),N(o.credentials.password,l)||(o.credentials.password=l),x(l)}),i(),r(35,"i",24),s(36,"lock"),i()(),g(37,ot,2,0,"small",25),i(),r(38,"div",28)(39,"label",29)(40,"input",30),V("ngModelChange",function(l){return h(a),N(o.rememberMe,l)||(o.rememberMe=l),x(l)}),i(),s(41," Remember me "),i()(),r(42,"button",31),g(43,rt,2,0,"span",32)(44,it,1,0,"div",33),i()(),r(45,"div",34),s(46," Don't have an account? "),r(47,"a",35),s(48,"Register here"),i()()()()}if(t&2){let a=w(19),d=w(25),l=w(34);c(17),p("ngIf",o.errorMessage),c(7),D("ngModel",o.credentials.email),p("disabled",o.isLoading),c(4),p("ngIf",d.invalid&&(d.dirty||d.touched)),c(5),D("ngModel",o.credentials.password),p("disabled",o.isLoading),c(4),p("ngIf",l.invalid&&(l.dirty||l.touched)),c(3),D("ngModel",o.rememberMe),p("disabled",o.isLoading),c(2),p("disabled",a.invalid||o.isLoading),c(),p("ngIf",!o.isLoading),c(),p("ngIf",o.isLoading)}},dependencies:[S,k,Ue,Ae,Le,Ie,Ee,Te,De,Ve,Ne,ze,Re,F],styles:[`.card[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:12px;border:1px solid var(--border-color);box-shadow:var(--shadow-sm);transition:transform .2s,box-shadow .2s;overflow:hidden}.card--hoverable[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #00000014}.card__body[_ngcontent-%COMP%]{padding:20px}.card__header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.card__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .card__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--text-color)}.table-responsive[_ngcontent-%COMP%]{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;white-space:nowrap}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:16px;font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:1px solid var(--border-color);background-color:var(--bg-color)}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid var(--border-color);color:var(--text-color);vertical-align:middle;font-size:.95rem}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#00000005}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 10px;border-radius:6px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.3px}.badge--default[_ngcontent-%COMP%]{background-color:var(--bg-color);color:var(--text-secondary);border:1px solid var(--border-color)}.badge--primary[_ngcontent-%COMP%]{background-color:rgba(var(--accent-color-rgb),.1);color:var(--accent-color)}.badge--success[_ngcontent-%COMP%]{background-color:#28a7451a;color:#28a745}.badge--warning[_ngcontent-%COMP%]{background-color:#ffc10726;color:#856404}.badge--danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:#dc3545}.badge--info[_ngcontent-%COMP%]{background-color:#17a2b81a;color:#17a2b8}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 18px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s;font-size:.95rem;background-color:var(--bg-color);color:var(--text-color);border:none}.btn[_ngcontent-%COMP%]:hover{background-color:#0000000d;border-color:var(--text-secondary)}.btn--primary[_ngcontent-%COMP%]{background-color:var(--accent-color);color:#fff;border:1px solid transparent}.btn--primary[_ngcontent-%COMP%]:hover{filter:brightness(1.1);box-shadow:0 4px 12px rgba(var(--accent-color-rgb),.3);background-color:var(--accent-color);border-color:transparent}.btn--icon-only[_ngcontent-%COMP%]{padding:8px;background:transparent;color:var(--text-secondary);border-radius:50%}.btn--icon-only[_ngcontent-%COMP%]:hover{background-color:rgba(var(--accent-color-rgb),.1);color:var(--accent-color)}.btn--danger[_ngcontent-%COMP%]{background-color:var(--danger-color);color:#fff}.btn--danger[_ngcontent-%COMP%]:hover{filter:brightness(1.1)}.btn.text-danger[_ngcontent-%COMP%]{color:var(--danger-color)}.btn.text-danger[_ngcontent-%COMP%]:hover{background-color:#dc35451a}.btn--outline-danger[_ngcontent-%COMP%]{background-color:transparent;border:1px solid var(--danger-color);color:var(--danger-color)}.btn--outline-danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-color);color:#fff}.btn--outline[_ngcontent-%COMP%]{background-color:transparent;border:1px solid var(--border-color);color:var(--text-color)}.btn--outline[_ngcontent-%COMP%]:hover{border-color:var(--text-secondary);background-color:var(--bg-color)}.btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.6;box-shadow:none;transform:none}.btn[_ngcontent-%COMP%]:disabled.btn--primary, .btn.disabled.btn--primary[_ngcontent-%COMP%]{background-color:var(--text-secondary);color:#fff}.btn[_ngcontent-%COMP%]:disabled.btn--primary:hover, .btn.disabled.btn--primary[_ngcontent-%COMP%]:hover{filter:none;box-shadow:none}.btn[_ngcontent-%COMP%]:disabled.btn--icon-only, .btn.disabled.btn--icon-only[_ngcontent-%COMP%]{color:var(--border-color)}.btn[_ngcontent-%COMP%]:disabled.btn--icon-only:hover, .btn.disabled.btn--icon-only[_ngcontent-%COMP%]:hover{background-color:transparent;color:var(--border-color)}.btn--sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.85rem;gap:6px}.btn--sm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.btn--text[_ngcontent-%COMP%]{background-color:transparent;color:var(--text-secondary);border:1px solid transparent}.btn--text[_ngcontent-%COMP%]:hover{background-color:#0000000d;color:var(--text-color);border-color:transparent}.search-box[_ngcontent-%COMP%]{position:relative}.search-box__icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--text-secondary)}.search-box__input[_ngcontent-%COMP%]{padding:10px 15px 10px 40px;border-radius:8px;border:1px solid var(--border-color);background-color:var(--bg-color);color:var(--text-color);width:280px;outline:none;transition:width .3s ease,border-color .2s}.search-box__input[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);width:340px}.search-box__input[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary);opacity:.7}.state-message[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:var(--text-secondary);text-align:center}.state-message__icon[_ngcontent-%COMP%]{font-size:48px;opacity:.5;margin-bottom:15px;color:var(--text-secondary)}.state-message__text[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:var(--text-secondary)}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid rgba(0,0,0,.1);border-left-color:var(--accent-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:15px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.detail-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px dashed var(--border-color);font-size:.95rem}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-item__label[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:500}.detail-item__value[_ngcontent-%COMP%]{color:var(--text-color);font-weight:600;text-align:right}.detail-item__value--highlight[_ngcontent-%COMP%]{color:var(--danger-color)}.text-danger[_ngcontent-%COMP%]{color:var(--danger-color)!important}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:26px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--border-color);transition:.4s;border-radius:34px}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;box-shadow:0 2px 4px #0003}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--accent-color)}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px var(--accent-color)}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(24px)}.checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;color:var(--text-color);font-size:.95rem;-webkit-user-select:none;user-select:none}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:var(--accent-color);appearance:none;-webkit-appearance:none;margin:0;padding:0;box-sizing:border-box;width:16px;height:16px;border:2px solid var(--border-color);border-radius:4px;background-color:var(--bg-color);cursor:pointer;position:relative;transition:all .2s ease;flex-shrink:0}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover{border-color:var(--accent-color)}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:var(--accent-color);border-color:var(--accent-color)}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:5px;top:2px;width:4px;height:8px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked:after{display:block}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-color);outline-offset:2px}.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled{background-color:var(--border-color);border-color:var(--border-color);cursor:not-allowed}select[_ngcontent-%COMP%]{display:block;width:100%;padding:10px 36px 10px 12px;font-size:.95rem;font-weight:400;line-height:1.5;color:var(--text-color);background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:8px;color-scheme:light dark;appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%236c757d' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 12px center;background-size:16px 12px;transition:border-color .2s,box-shadow .2s;cursor:pointer}select[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);outline:0;box-shadow:0 0 0 3px rgba(var(--accent-color-rgb),.15)}select[_ngcontent-%COMP%]:disabled{background-color:#0000000d;cursor:not-allowed;opacity:.7}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--text-color);padding:10px}select[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--text-secondary);font-weight:700}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;min-width:100%;padding:5px 0;margin-top:4px;font-size:.9rem;color:var(--text-color);text-align:left;list-style:none;background-color:var(--primary-color);background-clip:padding-box;border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 20px #00000026;max-height:250px;overflow-y:auto;animation:_ngcontent-%COMP%_slideDownFade .2s ease-out}.dropdown-menu__item[_ngcontent-%COMP%]{display:block;width:100%;padding:10px 16px;clear:both;font-weight:400;color:var(--text-color);text-align:inherit;white-space:nowrap;background-color:transparent;border:0;cursor:pointer;transition:background-color .1s;border-bottom:1px solid var(--border-color)}.dropdown-menu__item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dropdown-menu__item[_ngcontent-%COMP%]:hover, .dropdown-menu__item[_ngcontent-%COMP%]:focus{background-color:rgba(var(--accent-color-rgb),.08);color:var(--accent-color);text-decoration:none}.dropdown-menu__item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .dropdown-menu__item[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:2px}@media (prefers-color-scheme: dark){.dropdown-menu[_ngcontent-%COMP%]{box-shadow:0 4px 20px #00000080}}@keyframes _ngcontent-%COMP%_slideDownFade{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}input[type=date][_ngcontent-%COMP%], input[type=datetime-local][_ngcontent-%COMP%], input[type=month][_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%]{display:block;width:100%;padding:10px 12px;font-family:inherit;font-size:.95rem;border-radius:8px;background-color:var(--bg-color);color:var(--text-color);border:1px solid var(--border-color);color-scheme:light dark;cursor:pointer;outline:none;transition:border-color .2s,box-shadow .2s}input[type=date][_ngcontent-%COMP%]:focus, input[type=datetime-local][_ngcontent-%COMP%]:focus, input[type=month][_ngcontent-%COMP%]:focus, input[type=time][_ngcontent-%COMP%]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(var(--accent-color-rgb),.15)}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, input[type=month][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, input[type=time][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer;opacity:.6;filter:invert(0)}body.dark-theme[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator, body.dark-theme[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}input[type=file][_ngcontent-%COMP%]{display:block;width:100%;padding:8px;font-size:.9rem;background-color:var(--bg-color);color:var(--text-secondary);border:1px solid var(--border-color);border-radius:8px;cursor:pointer}input[type=file][_ngcontent-%COMP%]::file-selector-button{margin-right:15px;padding:8px 16px;border:none;border-radius:6px;background-color:rgba(var(--accent-color-rgb),.1);color:var(--accent-color);font-weight:600;cursor:pointer;transition:background .2s}input[type=file][_ngcontent-%COMP%]:hover::file-selector-button{background-color:rgba(var(--accent-color-rgb),.2)}.auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:var(--bg-color);padding:20px}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:var(--primary-color);border-radius:16px;border:1px solid var(--border-color);padding:40px;box-shadow:0 10px 40px #00000014;animation:_ngcontent-%COMP%_slideUp .4s ease-out}@media (prefers-color-scheme: dark){.auth-card[_ngcontent-%COMP%]{box-shadow:0 10px 40px #0006}}.auth-card__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;display:flex;flex-direction:column;align-items:center}.auth-header__logo[_ngcontent-%COMP%]{width:56px;height:56px;margin-bottom:15px;background:linear-gradient(135deg,var(--accent-color),rgba(var(--accent-color-rgb),.8));color:#fff;border-radius:14px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px rgba(var(--accent-color-rgb),.3)}.auth-header__logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;stroke:currentColor}.auth-header__title[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:var(--text-color);font-weight:700}.auth-header__subtitle[_ngcontent-%COMP%]{margin:8px 0 0;color:var(--text-secondary);font-size:.95rem}.auth-form__group[_ngcontent-%COMP%]{margin-bottom:20px}.auth-form__label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:.9rem;font-weight:600;color:var(--text-color)}.auth-form__actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px}.input-group[_ngcontent-%COMP%]{position:relative}.input-group__icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--text-secondary);font-size:20px;transition:color .2s;pointer-events:none;z-index:1}.input-group__field[_ngcontent-%COMP%]{width:100%;padding:12px 12px 12px 40px;border-radius:8px;border:1px solid var(--border-color);background-color:var(--bg-color);color:var(--text-color);font-size:1rem;outline:none;transition:all .2s}.input-group__field[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary);opacity:.7}.input-group__field[_ngcontent-%COMP%]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(var(--accent-color-rgb),.2)}.input-group__field[_ngcontent-%COMP%]:focus + .input-group__icon[_ngcontent-%COMP%]{color:var(--accent-color)}.input-group__field[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background-color:#0000000d}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:14px;background-color:var(--accent-color);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;display:flex;justify-content:center;align-items:center}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){filter:brightness(1.1);box-shadow:0 4px 12px rgba(var(--accent-color-rgb),.3)}.btn-submit[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(1px)}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:var(--text-secondary);cursor:not-allowed;opacity:.7}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:25px;font-size:.9rem;color:var(--text-secondary)}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--accent-color);font-weight:600;text-decoration:none}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:12px;border-radius:8px;margin-bottom:20px;display:flex;align-items:center;gap:10px;font-size:.9rem}.alert--error[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.spinner-sm[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}`]})};var $=[{groupRole:I.VIEWER,items:[{path:"dashboard",label:"Dashboard",icon:"dashboard",loadComponent:()=>import("./chunk-MV4RU7D5.js").then(e=>e.DashboardComponent)},{path:"cases",label:"Cases",icon:"gavel",children:[{path:"",label:"All Cases",visible:!1,icon:"list",loadComponent:()=>import("./chunk-MV4RU7D5.js").then(e=>e.DashboardComponent)},{path:"create",label:"New Case",icon:"add",minRole:I.EDITOR,loadComponent:()=>import("./chunk-SV4EGM6P.js").then(e=>e.CreateCaseComponent)},{path:":id",visible:!1,loadComponent:()=>import("./chunk-CP65CIWM.js").then(e=>e.CaseDetailComponent)},{path:"edit/:id",visible:!1,minRole:I.EDITOR,loadComponent:()=>import("./chunk-SV4EGM6P.js").then(e=>e.CreateCaseComponent)}]},{path:"calendar",label:"Calendar",icon:"calendar_today",loadComponent:()=>import("./chunk-N6DSOYH3.js").then(e=>e.CalendarComponent)},{path:"explorer",label:"Explorer",icon:"travel_explore",loadComponent:()=>import("./chunk-FW5Q3GU2.js").then(e=>e.UniversalListComponent)},{path:"chat",label:"Messages",icon:"chat",loadComponent:()=>import("./chunk-DG77QHP3.js").then(e=>e.ChatComponent)},{path:"settings",label:"Settings",icon:"settings",loadComponent:()=>import("./chunk-TYLTQDA3.js").then(e=>e.SettingsComponent)}]},{groupRole:I.ORG_ADMIN,items:[{path:"team",label:"My Team",icon:"people",loadComponent:()=>import("./chunk-OS2I4GU5.js").then(e=>e.TeamListComponent)},{path:"parties",label:"Parties Directory",icon:"groups",loadComponent:()=>import("./chunk-A4LJSL5W.js").then(e=>e.PartyListComponent)},{path:"announcements",label:"Announcements",icon:"campaign",loadComponent:()=>import("./chunk-OTEZS7E5.js").then(e=>e.AnnouncementManagerComponent)}]},{groupRole:I.PLATFORM_ADMIN,items:[{path:"settings-manager",label:"System Config",icon:"settings_applications",loadComponent:()=>import("./chunk-WIHHJVEZ.js").then(e=>e.SettingsManagerComponent)},{path:"org-manager",label:"Organizations",icon:"domain",loadComponent:()=>import("./chunk-NGUMHJOL.js").then(e=>e.OrgManagerComponent)},{path:"db-viewer",label:"Database Viewer",icon:"storage",loadComponent:()=>import("./chunk-BSGTKQRU.js").then(e=>e.DbViewerComponent)},{path:"master-data",label:"Master Data",icon:"dns",loadComponent:()=>import("./chunk-SO4YBMMV.js").then(e=>e.MasterDataComponent)}]}];var B=class e{authService=m(b);menuItems=he(()=>{let n=this.authService.currentUser(),t=n?n.role:0;return this.processGroups($,t)});processGroups(n,t){let o=[];return n.forEach(a=>{let d=this.processItems(a.items,t,a.groupRole,"");o.push(...d)}),o}processItems(n,t,o,a){let d=[];return n.forEach(l=>{let v=l.minRole!==void 0?l.minRole:o;if(t<v)return;let P=[],ie=a?`${a}/${l.path}`:`/${l.path}`;if(l.children&&l.children.length>0&&(P=this.processItems(l.children,t,v,ie)),l.visible===!1||l.children&&P.length===0)return;let Je=P.length>0?P[0].route:ie,Qe={label:l.label||"",icon:l.icon||"circle",route:Je,children:P};d.push(Qe)}),d}static \u0275fac=function(t){return new(t||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})};var at=()=>({exact:!0}),ct=()=>({exact:!1});function lt(e,n){e&1&&(r(0,"div",47),s(1," Legal"),r(2,"span",48),s(3,"App"),i()())}function st(e,n){if(e&1&&(r(0,"span",53),s(1),i()),e&2){let t=u(2).$implicit;c(),_(t.label)}}function dt(e,n){if(e&1&&(r(0,"a",51)(1,"i",18),s(2),i(),g(3,st,2,1,"span",52),i()),e&2){let t=u().$implicit,o=u();p("routerLink",t.route)("routerLinkActiveOptions",te(4,at)),c(2),_(t.icon),c(),p("ngIf",!o.isSidebarCollapsed)}}function pt(e,n){if(e&1&&(r(0,"span",53),s(1),i()),e&2){let t=u(2).$implicit;c(),_(t.label)}}function gt(e,n){if(e&1&&(r(0,"span",53),s(1),i()),e&2){let t=u().$implicit;c(),_(t.label)}}function mt(e,n){if(e&1&&(r(0,"a",58)(1,"i",18),s(2),i(),g(3,gt,2,1,"span",52),i()),e&2){let t=n.$implicit,o=u(3);p("routerLink",t.route),c(2),_(t.icon),c(),p("ngIf",!o.isSidebarCollapsed)}}function ut(e,n){if(e&1&&(r(0,"div",54)(1,"a",55)(2,"i",18),s(3),i(),g(4,pt,2,1,"span",52),i(),r(5,"div",56),g(6,mt,4,3,"a",57),i()()),e&2){let t=u().$implicit,o=u();c(),p("routerLink",t.route)("routerLinkActiveOptions",te(5,ct)),c(2),_(t.icon),c(),p("ngIf",!o.isSidebarCollapsed),c(2),p("ngForOf",t.children)}}function _t(e,n){if(e&1&&(me(0),g(1,dt,4,5,"a",49)(2,ut,7,6,"div",50),ue()),e&2){let t=n.$implicit;c(),p("ngIf",!t.children||t.children.length===0),c(),p("ngIf",t.children&&t.children.length>0)}}function bt(e,n){e&1&&(r(0,"span",59),s(1,"Logout"),i())}function ft(e,n){if(e&1){let t=y();r(0,"div",60),f("click",function(){h(t);let a=u();return x(a.closeMobileSidebar())}),i()}}function ht(e,n){if(e&1&&(r(0,"span",61),s(1),i()),e&2){let t=u();c(),z(" ",t.totalUnreadCount>99?"99+":t.totalUnreadCount," ")}}function xt(e,n){e&1&&(r(0,"div",68)(1,"i",24),s(2,"check_circle"),i(),r(3,"p"),s(4,"All caught up!"),i()())}function vt(e,n){if(e&1&&(r(0,"div",77),s(1),i()),e&2){let t=u().$implicit;c(),z(" ",t.unread_count," ")}}function Ct(e,n){if(e&1){let t=y();r(0,"div",69),f("click",function(){let a=h(t).$implicit,d=u(2);return x(d.openChat(a.id))}),r(1,"div",70),s(2),i(),r(3,"div",71)(4,"div",72)(5,"span",73),s(6),i(),r(7,"span",74),s(8),ne(9,"date"),i()(),r(10,"div",75),s(11),i()(),g(12,vt,2,1,"div",76),i()}if(e&2){let t=n.$implicit;c(2),z(" ",(t.displayName||"?").charAt(0)," "),c(4),_(t.displayName),c(2),_(_e(9,5,t.last_message==null?null:t.last_message.created_at,"shortTime")),c(3),z(" ",(t.last_message==null?null:t.last_message.content)||"Attachment"," "),c(),p("ngIf",(t.unread_count||0)>0)}}function Mt(e,n){if(e&1){let t=y();r(0,"div",62)(1,"div",63)(2,"h4"),s(3,"Unread Messages"),i(),r(4,"a",64),f("click",function(){h(t);let a=u();return x(a.openChat())}),s(5,"View All"),i()(),r(6,"div",65),g(7,xt,5,0,"div",66)(8,Ct,13,8,"div",67),ne(9,"slice"),i()()}if(e&2){let t=u();c(7),p("ngIf",t.unreadConversations.length===0),c(),p("ngForOf",be(9,2,t.unreadConversations,0,5))}}var W=class e{navService=m(B);themeService=m(Fe);authService=m(b);chatService=m(je);router=m(M);ngZone=m(ge);renderer=m(pe);menuItems=this.navService.menuItems;currentUser=this.authService.currentUser;isSidebarCollapsed=!1;isSidebarOpenOnMobile=!1;isMobileView=!1;isHeaderHidden=!1;lastScrollTop=0;sidebarStorageKey="app_sidebar_collapsed";unreadConversations=[];totalUnreadCount=0;isMessagesDropdownOpen=!1;subs=[];ngOnInit(){this.chatService.ensureConnection(),this.refreshNotifications();let n=this.chatService.totalUnreadCount$.subscribe(a=>this.totalUnreadCount=a),t=this.chatService.messageReceived$.subscribe(a=>{this.ngZone.run(()=>{let d=this.currentUser()?.id;if(!d||Number(a.sender.id)===Number(d)||this.chatService.activeConversationId===a.conversation_id)return;let l=this.unreadConversations.find(v=>v.id===a.conversation_id);if(l){l.unread_count=(l.unread_count||0)+1,l.last_message=a,this.unreadConversations=[l,...this.unreadConversations.filter(P=>P.id!==l.id)];let v=this.chatService.totalUnreadCount$.value;this.chatService.totalUnreadCount$.next(v+1)}else{let v=this.chatService.totalUnreadCount$.value;this.chatService.totalUnreadCount$.next(v+1),this.refreshNotifications()}})}),o=this.router.events.pipe(A(a=>a instanceof we)).subscribe(()=>{this.isMobileView&&(this.isSidebarOpenOnMobile=!1)});this.subs.push(n,t,o)}ngAfterViewInit(){this.checkScreenWidth(),setTimeout(()=>{this.loadSidebarState()},0)}ngOnDestroy(){this.subs.forEach(n=>n.unsubscribe())}onResize(){this.checkScreenWidth()}checkScreenWidth(){this.isMobileView=window.innerWidth<992,this.isMobileView||(this.isSidebarOpenOnMobile=!1)}loadSidebarState(){if(!this.isMobileView){let n=localStorage.getItem(this.sidebarStorageKey);this.isSidebarCollapsed=n==="true"}}toggleSidebar(){this.isMobileView?this.isSidebarOpenOnMobile=!this.isSidebarOpenOnMobile:(this.isSidebarCollapsed=!this.isSidebarCollapsed,localStorage.setItem(this.sidebarStorageKey,String(this.isSidebarCollapsed)))}closeMobileSidebar(){this.isSidebarOpenOnMobile=!1}onWindowScroll(){let n=window.pageYOffset||document.documentElement.scrollTop;n>this.lastScrollTop&&n>80?this.isHeaderHidden=!0:n<this.lastScrollTop&&(this.isHeaderHidden=!1),this.lastScrollTop=n<=0?0:n}get userInitials(){return(this.currentUser()?.full_name||this.currentUser()?.email||"U").split(" ").map(t=>t[0]).slice(0,2).join("").toUpperCase()}logout(){this.authService.logout()}refreshNotifications(){this.currentUser()&&this.chatService.getConversations().subscribe(t=>{this.unreadConversations=t.filter(a=>(a.unread_count||0)>0);let o=this.unreadConversations.reduce((a,d)=>a+(d.unread_count||0),0);this.chatService.totalUnreadCount$.next(o)})}toggleMessagesDropdown(){this.isMessagesDropdownOpen=!this.isMessagesDropdownOpen,this.isMessagesDropdownOpen&&this.refreshNotifications()}openChat(n){this.isMessagesDropdownOpen=!1,n?this.router.navigate(["/chat"],{queryParams:{id:n}}):this.router.navigate(["/chat"])}onDocumentClick(n){n.target.closest(".header__messages-wrapper")||(this.isMessagesDropdownOpen=!1)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=O({type:e,selectors:[["app-main-layout"]],hostBindings:function(t,o){t&1&&f("resize",function(){return o.onResize()},ee)("scroll",function(){return o.onWindowScroll()},ee)("click",function(d){return o.onDocumentClick(d)},de)},decls:54,vars:19,consts:[[1,"app-container"],[1,"sidebar"],[1,"sidebar__logo-area","app-brand"],[1,"app-brand__icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M12 3v17"],["d","M6 6h12"],["d","M6 6l-3 5"],["d","M6 6l3 5"],["d","M3 11c0 1.66 1.34 3 3 3s3-1.34 3-3"],["d","M18 6l-3 5"],["d","M18 6l3 5"],["d","M15 11c0 1.66 1.34 3 3 3s3-1.34 3-3"],["class","app-brand__text",4,"ngIf"],[1,"sidebar__nav-menu"],[4,"ngFor","ngForOf"],[1,"sidebar__footer"],[1,"nav-item","nav-item--logout",3,"click"],[1,"material-icons","nav-item__icon"],["class","sidebar__footer-text",4,"ngIf"],["class","sidebar-backdrop",3,"click",4,"ngIf"],[1,"main-content"],[1,"header"],[1,"header__toggle-btn",3,"click"],[1,"material-icons"],[1,"header__actions"],[1,"header__messages-wrapper"],["title","Messages",1,"theme-icon-btn",3,"click"],[1,"theme-icon-btn__inner"],["class","notification-badge",4,"ngIf"],["class","msg-dropdown fade-in-up",4,"ngIf"],[1,"theme-icon-btn",3,"click","title"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"icon-sun"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"icon-moon"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"],[1,"user-profile",3,"title"],[1,"user-profile__avatar"],[1,"content-wrapper"],[1,"app-brand__text"],[1,"highlight"],["routerLinkActive","nav-item--active","class","nav-item",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],["class","nav-item-with-children",4,"ngIf"],["routerLinkActive","nav-item--active",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],["class","nav-item__label",4,"ngIf"],[1,"nav-item__label"],[1,"nav-item-with-children"],["routerLinkActive","nav-item--active",1,"nav-item","parent",3,"routerLink","routerLinkActiveOptions"],[1,"children-list"],["routerLinkActive","nav-item--active","class","nav-item nav-item--child",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","nav-item--active",1,"nav-item","nav-item--child",3,"routerLink"],[1,"sidebar__footer-text"],[1,"sidebar-backdrop",3,"click"],[1,"notification-badge"],[1,"msg-dropdown","fade-in-up"],[1,"msg-dropdown__header"],[1,"view-all-link",3,"click"],[1,"msg-dropdown__body"],["class","empty-state",4,"ngIf"],["class","msg-item",3,"click",4,"ngFor","ngForOf"],[1,"empty-state"],[1,"msg-item",3,"click"],[1,"msg-avatar"],[1,"msg-content"],[1,"msg-top"],[1,"name"],[1,"time"],[1,"msg-preview"],["class","msg-count",4,"ngIf"],[1,"msg-count"]],template:function(t,o){if(t&1&&(r(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3),L(),r(4,"svg",4),C(5,"path",5)(6,"path",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12),i()(),g(13,lt,4,0,"div",13),i(),E(),r(14,"nav",14),g(15,_t,3,2,"ng-container",15),i(),r(16,"div",16)(17,"a",17),f("click",function(){return o.logout()}),r(18,"i",18),s(19,"logout"),i(),g(20,bt,2,0,"span",19),i()()(),g(21,ft,1,0,"div",20),r(22,"main",21)(23,"header",22)(24,"button",23),f("click",function(){return o.toggleSidebar()}),r(25,"i",24),s(26,"menu"),i()(),r(27,"div",25)(28,"div",26)(29,"button",27),f("click",function(){return o.toggleMessagesDropdown()}),r(30,"div",28)(31,"i",24),s(32,"chat_bubble_outline"),i(),g(33,ht,2,1,"span",29),i()(),g(34,Mt,10,6,"div",30),i(),r(35,"button",31),f("click",function(){return o.themeService.toggleTheme()}),r(36,"div",28),L(),r(37,"svg",32),C(38,"circle",33)(39,"line",34)(40,"line",35)(41,"line",36)(42,"line",37)(43,"line",38)(44,"line",39)(45,"line",40)(46,"line",41),i(),r(47,"svg",42),C(48,"path",43),i()()(),E(),r(49,"div",44)(50,"div",45),s(51),i()()()(),r(52,"div",46),C(53,"router-outlet"),i()()()),t&2){let a;R("app-container--sidebar-collapsed",o.isSidebarCollapsed&&!o.isMobileView)("app-container--mobile-sidebar-open",o.isSidebarOpenOnMobile),c(),R("sidebar--mobile-open",o.isSidebarOpenOnMobile),c(12),p("ngIf",!o.isSidebarCollapsed),c(2),p("ngForOf",o.menuItems()),c(5),p("ngIf",!o.isSidebarCollapsed),c(),p("ngIf",o.isSidebarOpenOnMobile),c(2),R("header--hidden",o.isHeaderHidden),c(10),p("ngIf",o.totalUnreadCount>0),c(),p("ngIf",o.isMessagesDropdownOpen),c(),p("title",o.themeService.darkMode()?"Switch to Light":"Switch to Dark"),c(),R("is-dark",o.themeService.darkMode()),c(13),p("title",(a=o.currentUser())==null?null:a.email),c(2),_(o.userInitials)}},dependencies:[S,ve,k,U,F,ke,Me,Ce],styles:[".sidebar[_ngcontent-%COMP%]{width:var(--sidebar-width);background-color:var(--primary-color);border-right:1px solid var(--border-color);position:fixed;top:0;bottom:0;left:0;z-index:100;display:flex;flex-direction:column;transition:width .3s ease}.sidebar__logo-area[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;height:var(--header-height);padding:0 20px;font-weight:700;font-size:1.2rem;border-bottom:1px solid var(--border-color)}.sidebar__logo-icon[_ngcontent-%COMP%]{margin-right:10px}.sidebar__nav-menu[_ngcontent-%COMP%]{padding:20px 0;overflow-y:auto;flex:1}.sidebar__footer[_ngcontent-%COMP%]{border-top:1px solid var(--border-color);padding:10px 0;flex-shrink:0}.nav-group[_ngcontent-%COMP%]{margin-bottom:5px}.nav-group__label[_ngcontent-%COMP%]{padding:15px 20px 5px;font-size:.75rem;text-transform:uppercase;color:var(--text-secondary);font-weight:700;letter-spacing:.5px}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;color:var(--text-color);text-decoration:none;transition:background .2s,color .2s,border-color .2s;white-space:nowrap;cursor:pointer;border-right:3px solid transparent}.nav-item__icon[_ngcontent-%COMP%]{margin-right:15px;width:24px;text-align:center}.nav-item[_ngcontent-%COMP%]:hover{background-color:rgba(var(--accent-color-rgb),.05)}.nav-item--active[_ngcontent-%COMP%]{background-color:rgba(var(--accent-color-rgb),.1);color:var(--accent-color);border-right-color:var(--accent-color)}.nav-item--child[_ngcontent-%COMP%]{padding-left:35px;font-size:.9rem}.nav-item--logout[_ngcontent-%COMP%]:hover{background-color:#dc35451a;color:var(--danger-color)}.nav-item-with-children[_ngcontent-%COMP%]   .children-list[_ngcontent-%COMP%]{background-color:#00000005;padding-top:5px;padding-bottom:5px}.dark-theme[_ngcontent-%COMP%]   .nav-item-with-children[_ngcontent-%COMP%]   .children-list[_ngcontent-%COMP%]{background-color:#ffffff08}.nav-item-with-children[_ngcontent-%COMP%]   .parent.nav-item--active[_ngcontent-%COMP%]{font-weight:700;color:var(--accent-color);background-color:rgba(var(--accent-color-rgb),.05)}.nav-item--child[_ngcontent-%COMP%]{padding-left:50px;font-size:.9rem;padding-top:10px;padding-bottom:10px}.nav-item--child[_ngcontent-%COMP%]   .nav-item__icon[_ngcontent-%COMP%]{font-size:18px;margin-right:12px}.nav-item--child.nav-item--active[_ngcontent-%COMP%]{font-weight:700}@media (max-width: 992px){.sidebar[_ngcontent-%COMP%]{position:fixed;z-index:999;transform:translate(-100%);transition:transform .3s ease-in-out}.sidebar--mobile-open[_ngcontent-%COMP%]{transform:translate(0);box-shadow:0 0 25px #0003}}.header[_ngcontent-%COMP%]{height:var(--header-height);background-color:var(--primary-color);border-bottom:1px solid var(--border-color);display:flex;align-items:center;justify-content:space-between;padding:0 20px;position:sticky;top:0;z-index:90;width:100%;transition:transform .3s cubic-bezier(.4,0,.2,1)}.header__toggle-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:var(--text-color)}.header__actions[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center}.header--hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}.user-profile[_ngcontent-%COMP%]{cursor:pointer}.user-profile__avatar[_ngcontent-%COMP%]{width:36px;height:36px;background-color:var(--accent-color);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.9rem;font-weight:600;box-shadow:var(--shadow-sm)}.app-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:var(--bg-color);color:var(--text-color);transition:background-color .3s ease,color .3s ease}.main-content[_ngcontent-%COMP%]{flex:1;margin-left:var(--sidebar-width);transition:margin-left .3s ease;display:flex;flex-direction:column;min-width:0}.content-wrapper[_ngcontent-%COMP%]{padding:20px;flex:1}.app-container--sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:var(--sidebar-collapsed-width)}.app-container--sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar__logo-text[_ngcontent-%COMP%], .app-container--sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-item__label[_ngcontent-%COMP%], .app-container--sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .nav-group__label[_ngcontent-%COMP%], .app-container--sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar__footer-text[_ngcontent-%COMP%]{display:none}.app-container--sidebar-collapsed[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:var(--sidebar-collapsed-width)}.theme-icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;width:40px;height:40px;border-radius:50%;color:var(--text-color);display:flex;align-items:center;justify-content:center;transition:background-color .2s;overflow:hidden}.theme-icon-btn[_ngcontent-%COMP%]:hover{background-color:#0000000d;color:var(--accent-color)}.theme-icon-btn__inner[_ngcontent-%COMP%]{position:relative;width:24px;height:24px}.theme-icon-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:24px;height:24px;transition:all .5s cubic-bezier(.23,1,.32,1)}.theme-icon-btn[_ngcontent-%COMP%]   .icon-sun[_ngcontent-%COMP%]{opacity:1;transform:rotate(0) scale(1)}.theme-icon-btn[_ngcontent-%COMP%]   .icon-moon[_ngcontent-%COMP%]{opacity:0;transform:rotate(90deg) scale(0)}.theme-icon-btn[_ngcontent-%COMP%]   .is-dark[_ngcontent-%COMP%]   .icon-sun[_ngcontent-%COMP%]{opacity:0;transform:rotate(-90deg) scale(0)}.theme-icon-btn[_ngcontent-%COMP%]   .is-dark[_ngcontent-%COMP%]   .icon-moon[_ngcontent-%COMP%]{opacity:1;transform:rotate(0) scale(1)}.app-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.app-brand__icon[_ngcontent-%COMP%]{width:36px;height:36px;background-color:#007bff;background-color:var(--accent-color);background:linear-gradient(135deg,var(--accent-color),rgba(0,0,0,.2));color:#fff;border-radius:10px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 10px #0003;flex-shrink:0}.app-brand__icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:currentColor}.app-brand__text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--text-color);letter-spacing:-.5px;white-space:nowrap}.app-brand__text[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.header__messages-wrapper[_ngcontent-%COMP%]{position:relative;--margin-right: 12px}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background-color:var(--danger-color);color:#fff;font-size:10px;font-weight:700;height:18px;min-width:18px;padding:0 5px;border-radius:9px;display:flex;align-items:center;justify-content:center;border:2px solid var(--primary-color)}.msg-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:0;width:340px;background:var(--primary-color);border:1px solid var(--border-color);border-radius:12px;box-shadow:0 10px 25px #0000001a;z-index:1000;overflow:hidden}.msg-dropdown__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border-color);background:var(--bg-color)}.msg-dropdown__header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:.9rem;font-weight:600}.msg-dropdown__header[_ngcontent-%COMP%]   .view-all-link[_ngcontent-%COMP%]{font-size:.8rem;color:var(--accent-color);cursor:pointer;text-decoration:none}.msg-dropdown__header[_ngcontent-%COMP%]   .view-all-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.msg-dropdown__body[_ngcontent-%COMP%]{max-height:350px;overflow-y:auto}.msg-dropdown__body[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:30px;text-align:center;color:var(--text-secondary)}.msg-dropdown__body[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:10px;display:block;opacity:.5}.msg-dropdown__body[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.msg-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;cursor:pointer;transition:background-color .2s;border-bottom:1px solid var(--border-color)}.msg-item[_ngcontent-%COMP%]:hover{background-color:var(--bg-color)}.msg-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.msg-avatar[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;background:var(--accent-color);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;text-transform:uppercase;margin-right:12px;flex-shrink:0}.msg-content[_ngcontent-%COMP%]{flex:1;min-width:0}.msg-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:2px}.msg-top[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;color:var(--text-color)}.msg-top[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.msg-preview[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.msg-count[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff;font-size:10px;font-weight:700;border-radius:10px;padding:2px 6px;margin-left:8px}.fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .2s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.sidebar-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:998;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 992px){.main-content[_ngcontent-%COMP%]{margin-left:0!important}.app-container--sidebar-collapsed[_ngcontent-%COMP%]   .nav-item__label[_ngcontent-%COMP%], .app-container--sidebar-collapsed[_ngcontent-%COMP%]   .nav-group__label[_ngcontent-%COMP%], .app-container--sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__footer-text[_ngcontent-%COMP%], .app-container--sidebar-collapsed[_ngcontent-%COMP%]   .app-brand__text[_ngcontent-%COMP%]{display:inline}}"]})};var Y=(e,n)=>{let t=m(b),o=m(M);if(!t.isLoggedIn())return o.navigate(["/login"]),!1;let a=t.currentUser(),d=a?a.role:0,l=e.data.minRole;return l!==void 0&&d<l?(console.warn(`Access Denied: User Role ${d} < Required ${l}`),o.navigate(["/dashboard"]),!1):!0};function Ge(e){let n=[];return e.forEach(t=>{let o=t.items.map(a=>$e(a,t.groupRole));n.push(...o)}),n}function $e(e,n){let t=e.minRole!==void 0?e.minRole:n,o={path:e.path,canActivate:[Y],data:{minRole:t}};return e.loadComponent&&(o.loadComponent=e.loadComponent),e.children&&(o.children=e.children.map(a=>$e(a,t))),o}var Be=(e,n)=>{let t=m(b),o=m(M);return t.isLoggedIn()?(o.navigate(["/dashboard"]),!1):!0};var We=[{path:"login",component:H,canActivate:[Be]},{path:"",component:W,canActivate:[Y],children:[...Ge($),{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"**",redirectTo:"login"}];var Ye=(e,n)=>{let o=m(b).getToken();if(o){let a=e.clone({setHeaders:{Authorization:`Bearer ${o}`}});return n(a)}return n(e)};var q=!1,re=new ae(null),Ze=(e,n)=>{let t=m(j),o=m(b),a=m(M);return n(e).pipe(Q(d=>{if(d.status===401&&!e.url.includes("auth/login")&&!e.url.includes("auth/refresh"))return Ot(e,n,o,a);let l="An unknown error occurred!";return d.error instanceof ErrorEvent?l=d.error.message:d.error&&d.error.errors&&Array.isArray(d.error.errors)?l=d.error.errors.map(v=>v.msg).join(`
`):d.error&&d.error.message?l=d.error.message:l=`Error Code: ${d.status}
Message: ${d.message}`,d.status!==401&&t.showError(l),J(()=>d)}))},Ot=(e,n,t,o)=>q?re.pipe(A(a=>a!=null),ce(1),X(a=>n(qe(e,a)))):(q=!0,re.next(null),t.refreshToken().pipe(X(a=>(q=!1,re.next(a.accessToken),n(qe(e,a.accessToken)))),Q(a=>(q=!1,t.logout(),J(()=>a))))),qe=(e,n)=>e.clone({setHeaders:{Authorization:`Bearer ${n}`}});var Ke={providers:[se(),fe({eventCoalescing:!0}),Se(We),ye(Pe([Ye,Ze]))]};function yt(e,n){e&1&&(r(0,"i",6),s(1,"check_circle"),i())}function Pt(e,n){e&1&&(r(0,"i",6),s(1,"error_outline"),i())}function wt(e,n){e&1&&(r(0,"i",6),s(1,"info"),i())}function kt(e,n){if(e&1){let t=y();r(0,"div",1)(1,"div",2),g(2,yt,2,0,"i",3)(3,Pt,2,0,"i",3)(4,wt,2,0,"i",3),r(5,"span"),s(6),i()(),r(7,"button",4),f("click",function(){h(t);let a=u();return x(a.close())}),r(8,"i",5),s(9,"close"),i()()()}if(e&2){let t=u();p("ngClass",t.notification.type),c(2),p("ngIf",t.notification.type==="success"),c(),p("ngIf",t.notification.type==="error"),c(),p("ngIf",t.notification.type==="info"),c(2),_(t.notification.message)}}var Z=class e{constructor(n){this.notificationService=n}notification=null;timeoutId;ngOnInit(){this.notificationService.notification$.subscribe(n=>{this.notification=n,this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>this.close(),3e3)})}close(){this.notification=null}static \u0275fac=function(t){return new(t||e)(T(j))};static \u0275cmp=O({type:e,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","toast",3,"ngClass",4,"ngIf"],[1,"toast",3,"ngClass"],[1,"content"],["class","material-icons icon",4,"ngIf"],[1,"btn-close",3,"click"],[1,"material-icons"],[1,"material-icons","icon"]],template:function(t,o){t&1&&g(0,kt,10,5,"div",0),t&2&&p("ngIf",o.notification)},dependencies:[S,xe,k],styles:[".toast[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;padding:12px 20px;border-radius:8px;z-index:9999;display:flex;align-items:center;justify-content:space-between;gap:20px;min-width:300px;max-width:450px;box-shadow:0 4px 15px #0003;color:#fff;animation:_ngcontent-%COMP%_slideIn .3s cubic-bezier(.175,.885,.32,1.275);font-size:.95rem}.toast[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.toast[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:20px;opacity:.9}.toast.success[_ngcontent-%COMP%]{background-color:#2e7d32}.toast.error[_ngcontent-%COMP%]{background-color:#c62828}.toast.info[_ngcontent-%COMP%]{background-color:#0277bd}.toast[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;padding:0;display:flex;align-items:center;opacity:.7;transition:opacity .2s}.toast[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.toast[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}"]})};var K=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=O({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,o){t&1&&C(0,"router-outlet")(1,"app-toast")},dependencies:[U,Z],encapsulation:2})};Oe(K,Ke).catch(e=>console.error(e));
